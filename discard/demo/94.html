<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="../assets/css/style.css"/>
	<style rel="stylesheet">

	</style>
</head>
<body>
<h1>XXX</h1>
<p>
	<a href="../_old.html">返回主菜单</a>
</p>
<div class="wrap">

	<h2 id="showWaveWord">波浪字体效果波浪字体效果</h2>

</div>
<!--华丽丽的分割线-->
<script src="../js/jquery-1.12.4.min.js"></script>
<script>
	!(function ($) {
	    var defaultPra = {
	        'version':'v1.0',
			'speed':'300'
	    };
	    
	    function wrapWord(word) {
	        var strTmp = '';
			for(var i = 0; i < word.length; ++i){
                strTmp += '<span>'+ word[i] +'</span>';
			}
			return $(strTmp);
        }
		
        function showEffect(spans,speed) {
           
            
            doTimer(spans.eq(0));
            
            function doTimer(span) {
                span.css({"font-size":"2em"})
                    .prev().css({"font-size":"1em"});

               
                
                if (span.is(":last-child")){
                    clearTimeout(timer);
                    console.log('xxx');
                    setTimeout(function () {
                        span.css({"font-size":"1em"});
                    },speed);
                    return;
				}
                var nxt = span.next();
                var timer = null;
                timer = setTimeout(function () {
                    doTimer(nxt);
                },speed);
            }
           
			
        }
        
		$.fn.extend({
		    waveword:function (opt) {
				return this.each(function () {
				    opt = $.extend(opt, defaultPra);
					var txt = $(this).text();
                    
					$(this).empty().append(wrapWord(txt));
                    
                    showEffect($(this).find("span"),opt.speed);
                });
            }
		});
    })($);
	
	$("#showWaveWord").waveword({});
</script>
</body>
</html>