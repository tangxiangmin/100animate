<!DOCTYPE html>
<!--
	作者：tangxiangmin@126.com
	时间：2016-07-24
	描述：手机验证码获取，当然只是解决倒计时的问题
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../assets/css/style.css"/>
		<style rel="stylesheet">
			input {
				height: 30px;
				line-height: 30px;
				box-sizing: border-box;
				margin: 5px 5px;
			}
			input[type=button],input[type=submit] {
				width: 90px;
			}
			input[type=text]:nth-of-type(1){
				width: 190px;
			}
			input[type=text]:nth-of-type(2){
				width: 90px;
			}
		</style>
	</head>
	<body>
		<h1>获取手机验证码</h1>
		<p>
			<a href="../_old.html">返回主菜单</a>
		</p>
		<div class="wrap">
			<input type="text" id="tel" placeholder="请输入手机号码"/><br />
			<input type="text" placeholder="请输入验证码"/><input type="button" id="get-verfiry" value="获取验证码"/><br />
			<input type="submit" id="sub" value="确认提交" />
		</div>
		<!--华丽丽的分割线-->
		<script src="../js/jquery-1.12.4.min.js"></script>
		<script>
			$(function(){
				function checkTel(){
					var re = /^1[358]\d{9}$/;
					if (!re.test($("#tel").val())){
						alert("请输入正确的手机号");
						return false;
					}
					return true;
				}
				$("#get-verfiry").on("click",function(){
					checkTel();
					if (!checkTel()){
						return;
					}
					var $that = $(this);
					var time = 10;
					$that.val("剩余"+time+"秒");
					var timer = setInterval(function(){
						time--;
						$that.val("剩余"+time+"秒");
						if (time <= 0) {
							$that.val("获取验证码");
							clearInterval(timer);
						}
					},1000)
				})
				$("#sub").on("click",function(){
					checkTel();
					var timer = setTimeout(function(){
						alert("发短信是要钱的...所以，就假装已经发送短信了嘛！");
					},3000);
				
					
				})
			})
		</script>
	</body>
</html>
