<!DOCTYPE html>
<!--
	作者：tangxiangmin@126.com
	时间：2016-10-03
	描述：这个是参考一个canvas动画做的，真的很像电影里面的黑客一样，于是小小地满足一下自己的YY，哈哈
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../css/style.css" />
		<style rel="stylesheet">
			canvas {
				position: absolute;
				z-index: -100;
				left: 0;
				top: 0;
			}
			
			h1,
			a {
				color: #fff;

			}
		</style>
	</head>

	<body>
		<h1>文字流</h1>
		<p>
			<a href="../index.html">返回主菜单</a>
		</p>
		<div class="wrap">
		</div>
		<canvas id="c"></canvas>
		<!--华丽丽的分割线-->
		<script src="../js/jquery-1.12.4.min.js"></script>
		<script>
			$(function() {
				var w = $(document).width();
				var h = $(document).height();

				var c = document.getElementById("c");
				c.width = w;
				c.height = h;

				var ctx = c.getContext("2d");
//				var letter = "10";
				var letter = "abcdefghijklmnopqrstuvwxyz";

				letter.split("");
				var fontsize = 24;
				var columns = w / fontsize;
				var arr = [];
				for(var x = 0; x < columns; x++) {
					arr[x] = 0;
				}
				setInterval(function() {
					ctx.fillStyle = "rgba(0,0,0,0.07)";
					ctx.fillRect(0, 0, c.width, c.height);
					ctx.fillStyle = "#33CCCC";
					ctx.font = fontsize + "px microsoft yahei";
					for(var i = 0; i < arr.length; i++) {
						var text = letter[Math.floor(Math.random() * letter.length)];
						ctx.fillText(text, i * fontsize, arr[i] * fontsize);
						arr[i]++;
						//添加动态效果
						if(arr[i] * fontsize > h && Math.random() > 0.9) { 
							arr[i] = 0;
						}
					}
				}, 30);
			})
		</script>
	</body>

</html>