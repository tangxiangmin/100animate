<!DOCTYPE html>
<!--说明-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../css/style.css"/>
		<style rel="stylesheet">
			.wrap {
				overflow: hidden;
			}
			ul {
				position: relative;
				
				width: 100%;
				height:300px;
			}
			li {
				width: 100%;
				height: 300px;
				position: absolute;
				cursor: pointer;
				
			}
			.on {
				transition: all .5s ease; 
				-webkit-transition: all .5s ease; 
			}
		</style>
	</head>
	<body>
		<h1>随意点击拖动</h1>
		<p>
			<a href="../index.html">返回主菜单</a>
		</p>
		<div class="wrap">
			<ul>
				<li></li>
				<li></li>
				<li></li>
			</ul>
		</div>
		<!--华丽丽的分割线-->
		<script src="../js/jquery-1.12.4.min.js"></script>
		<script>
			$(function(){
				var w = $("li").width();
				
				$("li").each(function(index){
					$(this).css({"background":"#"+Math.floor(Math.random()*900+100),"left":index*w+"px"});
				})
				var per = 0;
				
				$("ul").on("mousedown",function(e){
					var startX = e.pageX;
					$("ul").removeClass("on");
					
					$(document).on("mousemove",function(e){
						var s = e.pageX-startX;
						$("ul").css({"left":s+"px"});
					}).on("mouseup",function(e){
						$(this).off();
						var endX = e.pageX;
						//判断方向，1代表向右，0代表向左
						var dir = endX-startX;
						if (dir > 0 && dir > w/2){
							per += 1;
							console.log("right");
						}else if (dir < 0 && dir < -w/2) {
							per -= 1;
							console.log("left");
						}
						$("ul").addClass("on").css({"left":+per*w+"px)"});
						
					})
				})
			})
		</script>
	</body>
</html>
