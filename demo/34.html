<!DOCTYPE html>
<!--
	作者：tangxiangmin@126.com
	时间：2016-07-29
	描述：模拟滚动新闻条
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../assets/css/style.css"/>
		<style rel="stylesheet">
			ul { height: 24px;line-height: 24px;overflow: hidden; position: relative; }
			li { height: 24px; position: absolute;}
		</style>
	</head>
	<body>
		<h1>滚动新闻条</h1>
		<p>
			<a href="../index.html">返回主菜单</a>
		</p>
		<div class="wrap">
			<ul>
				<li>这是一条新闻哦1</li>
				<li>这是一条新闻哦2</li>
				<li>这是一条新闻哦3</li>
				<li>这是一条新闻哦4</li>
				<li>这是一条新闻哦5</li>
				<li>这是一条新闻哦6</li>
				<li>这是一条新闻哦7</li>
			</ul>
		</div>
		<!--华丽丽的分割线-->
		<script src="../js/jquery-1.12.4.min.js"></script>
		<script>
			$(function(){
				var h = $("li").height();
				var num = $("li").size();
				$("li").each(function(){
					var top = $(this).index()*h;
					$(this).css({"top":top});
				})
				//跟无缝轮播原理是一样的，使用绝对定位实现，不会扰乱DOM树结构
				var timer = setInterval(function(){
					$("li").animate({"top":"-="+h+"px"},300,function(){
						$("li").each(function(){
							if ($(this).css("top") == -h+"px"){
								$(this).css("top",(num-1)*h+"px");
							}
						})
					})
					
				},2000)
			})
		</script>
	</body>
</html>
