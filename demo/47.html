<!DOCTYPE html>
<!--
	作者：tangxiangmin@126.com
	时间：2016-08-15
	描述：写一个简陋版的宝石迷阵---致我曾经最喜欢的游戏
		8-15： 完成界面搭建
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../css/style.css"/>
		<style rel="stylesheet">
			.wrap { position: relative;}
			
			.red { background: #CC0033;}
			.blue { background: #00CCFF;}
			.green { background: #66CC00;}
			.black { background: #000033;}
			
			.box { position: absolute; left: 0; top: 0; height: 300px; width: 300px;;}
			.node { 
				width: 30px; height: 30px; position: absolute;
				box-sizing: border-box;
				padding: 2px;
			}
			.node .inner {
				width: 26px;
				height: 26px;
				margin: 2px;
			}
		</style>
	</head>
	<body>
		<h1>简易版宝石迷阵</h1>
		<p>
			<a href="../index.html">返回主菜单</a>
		</p>
		<div class="wrap">
			<div class="box">
				
			</div>
		</div>
		<!--华丽丽的分割线-->
		<script src="../js/jquery-1.12.4.min.js"></script>
		<script>
		$(function(){
			var row = 5;
			var col = 5;
			var w = 30;
			var h = 30;
			var marginX = 0;
			var marginY = 0;
			

			//初始化节点地图
			(function(){
				var str = "";
				for (var i = 0 ; i < row; ++i){
					for (var j = 0; j < col; ++j){
						str += "<div class='node'><div class='inner'></div></div>";
					}
				}
				$(".box").append($(str));
				var color = ["red","blue","black","yellow"];
				$(".node").each(function(){
					var index = $(this).index();
					$(this).css({"left":(index%col)*w,"top":parseInt(index/row)*h})
						   .find(".inner").addClass(color[Math.floor(Math.random()*3)]);
				})
			})();
			
			//判断
			var t = $(".node").eq(5).css("top");
			var l = $(".node").eq(5).css("left");
			
			alert(getPos(t,l).x);
			alert(getPos(t,l).y);
			//获取节点坐标，左上角(0,0)
			function getPos(top,left){
				return {
					x:parseInt(top)/h,
					y:parseInt(left)/w
				}
			}

			
		})
			
		</script>
	</body>
</html>
