<!DOCTYPE html>
<!--
	作者：tangxiangmin@126.com
	时间：2016-07-30
	描述：这是很早大概五月份底写的一个demo了，今天把他放上去
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../assets/css/style.css"/>
		<style rel="stylesheet">
		.wrap { position:  relative;} 
			.wrap div { width: 100px;height: 100px;background: red;position: absolute;top :300px;}
		</style>
	</head>
	<body>
		<h1>抖动的方块2</h1>
		<p>
			<a href="../index.html">返回主菜单</a>
		</p>
		<div class="wrap">
			
			
		</div>
		<!--华丽丽的分割线-->
		<script src="../js/jquery-1.12.4.min.js"></script>
		<script>
			window.onload = function(){
				function getStyle(obj,attr){
					return obj.currentStyle?obj.currentStyle[attr]:getComputedStyle(obj)[attr];
				}
				var str = "";
				for (var i = 0; i < 5; ++i){
					str += '<div></div>';
				}
				document.querySelector(".wrap").innerHTML = str;
				var aDiv = document.querySelector(".wrap").getElementsByTagName("div");
				for (var i = 0; i < 5; ++i){
					aDiv[i].style.left = 100 + i*110 +"px";
					aDiv[i].pos = parseInt(getStyle(aDiv[i],"top"));
					aDiv[i].onmouseover = function(){
						shake(this,"top");
					}
	
				}
	
				function shake(obj,attr){
					clearInterval(obj.timer);
					obj.timer = null;
					var num = 0;
					var arr = [];
					for (var i = 20; i >0; --i){
						arr.push(i, -i);
					}
					arr.push(0);
					//alert(obj.pos);
					obj.timer = setInterval(function(){
						num++;
						obj.style[attr] = obj.pos + arr[num] + "px";
						
						if (num == arr.length){
							clearInterval(obj.timer);
						} 
					},50);
				}
			}
		</script>
	</body>
</html>
