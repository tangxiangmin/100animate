<!DOCTYPE html>
<!--
	作者：tangxiangmin@126.com
	时间：2016-09-25
	描述：最近遇见了一个需要圆形打分的需求，一直没有比较好的思路，想来想去还是使用canvas画最简单
		  至于具体的样式，我的审美我自己都怕
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../css/style.css"/>
		<style rel="stylesheet">
			canvas {
				border: 1px solid #dedede;
			}
		</style>
	</head>
	<body>
		<h1>圆形打分</h1>
		<p>
			<a href="../index.html">返回主菜单</a>
		</p>
		<div class="wrap">
			<canvas width="200" height="200" data-score="0.52"></canvas>
			<canvas width="200" height="200" data-score="0.75"></canvas>
			<canvas width="200" height="200" data-score="0.23"></canvas>
			<canvas width="200" height="200" data-score="0.91"></canvas>
		</div>
		
		<!--华丽丽的分割线-->
		<script src="../js/jquery-1.12.4.min.js"></script>
		<script>
			$(function(){
				function score(ctx,num){
					ctx.beginPath();
					ctx.moveTo(100,100);
					ctx.arc(100,100,60,Math.PI*2,0,true);
					ctx.closePath();
					ctx.fillStyle = '#dedede';  
   	 				ctx.fill();
   	 				
   	 				ctx.beginPath();
   	 				ctx.moveTo(100,100);
					ctx.arc(100,100,50,Math.PI*2*num,0,true);
					ctx.closePath();
					ctx.fillStyle = 'red';  
        			ctx.fill();  
        			
        			ctx.beginPath();  
			        ctx.arc(100, 100, 44, 0, Math.PI * 2, true);  
			        ctx.closePath();  
			        ctx.strokeStyle = '#dedede';  
			        ctx.stroke();  
			        
			        ctx.font = "bold 16px Arial";
					ctx.textAlign = "center";
					ctx.textBaseline = "middle";
					ctx.fillStyle = "blue";
					ctx.fillText(num*100+"%",100,100);
				}
				$("canvas").each(function(){
					var num = $(this).attr("data-score");
					var ctx = $(this)[0].getContext("2d");
					ctx.clearRect(0,0,200,200);
					score(ctx,num);
				})
			})
		</script>
	</body>
</html>
