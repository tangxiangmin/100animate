<!DOCTYPE html>
<!--
	作者：tangxiangmin@126.com
	时间：2016-07-24
	描述：午夜抢购倒计时
-->
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<link rel="stylesheet" href="../css/style.css"/>
		<style rel="stylesheet">
			html,body { height: 100%;}
			.show {
				position: fixed;
				width: 100%;
				height: 100%;
				top: 0;
				z-index: 100;
				background: rgba(0,0,0,0.5);
				display:;
				text-align: center;
				line-height: 400px;
				color: red;
				font-size: 100px;
				font-weight: bold;
				display: none;
			}
			#time {
				font-size: 30px;
				color: red;
			}
		</style>
	</head>
	<body>
		<h1>随意点击拖动</h1>
		<p>
			<a href="../index.html">返回主菜单</a>
		</p>
		<div class="wrap">
			<p>距离今天的午夜抢购还有：<span id="time"></span></p>
			
		</div>
		<div class="show">
			
		</div>
		<!--华丽丽的分割线-->
		<script src="../js/jquery-1.12.4.min.js"></script>
		<script>
			$(function(){
				(function(){
					var now = new Date();
				
					var now_year = now.getFullYear();
					var now_month = now.getMonth();
					var now_day = now.getDate();
					
					//手动设置时间
					var future = new Date(now_year,now_month,now_day+1,0,0,0);
			
					var t = Math.floor((future - now)/1000);
					
					update(t);
					
					var timer = setInterval(function(){
						t--;
						update(t);
						if (t<=0){
							$(".show").text("天啊！没想到你这么无聊。居然真的等到倒计时结束").show();
							clearInterval(timer);
						}
					},1000)
					
					function update(t){
						var hour = Math.floor(t%86400/3600);
						var min = Math.floor(t%86400%3600/60);
						var sec = Math.floor(t%60);
						
						$("#time").text(hour+"小时"+min+"分钟"+sec+"秒");
					}
				})();
				
				$(".show").on("click",function(){
					$(this).hide();
				})
				
			})
		</script>
	</body>
</html>
